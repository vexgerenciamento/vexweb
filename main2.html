<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Web site created using create-react-app">
    <script src="autenticar.js"></script>
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="CSS/main2.css">
    <!--
      Notice the use of  in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "/favicon.ico" will
      work correctly both with client-side routing and a non-CORPO public URL.
      Learn how to configure a non-CORPO public URL by running `npm run build`.
    -->
    <title>VEX GERENCIAMENTO</title>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  

</head>
<body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div>
        <div class="corpo">
            <div class="inner body">
               <h1 class="ti tulo">
                 <img src="vex dourado.png" style="width: 30px; height: 30px; position: relative;">
                  VEX - Cresça Financeiramente</h1>
            </div><div class="sc-hKgJUU frdCTY">
                <div class="sc-jrAFXE eqoOME" style="flex-direction: column; flex-wrap: wrap; align-content: stretch; justify-content: space-evenly; align-items: stretch;">
                    <div class="sc-kEjbQP fuVdYh">
                        <div class="sc-iqHYmW jklSBJ setleft"><</div>
                        <div class="sc-crrszt cPfwyB">Abril de 2022</div>
                        <div class="sc-iqHYmW jklSBJ setright">></div>
                    </div>
                    <div class="sc-dQoVA klQxRK">
                        <div class="sc-bqyKOL fXEhmA">
                            <div class="sc-kstqJO bQkMyN">Ganhos</div>
                            <div class="sc-hBEYId hZHyLH">R$ 65</div>
                        </div>
                        <div class="sc-bqyKOL fXEhmA">
                            <div class="sc-kstqJO bQkMyN">Despesas</div>
                            <div class="sc-hBEYId hZHyLH" style="color:rgb(255, 0, 0);">R$ 23</div>
                        </div>
                        <div class="sc-bqyKOL fXEhmA">
                            <div class="sc-kstqJO bQkMyN">Balanço</div>
                            <div color="green" class="sc-hBEYId ftQMvP">R$ 42</div>
                        </div>
                    </div>
                </div>
                <div class="sc-fodVek fgloXw">
                    <label class="sc-fFucqa hmyJIQ">
                        <div class="sc-bkzYnD kLxSip">Titulo</div>
                        <input type="text" class="sc-idOiZg rwnMw" value=""  id="titulo">
                    </label>
                    <label class="sc-fFucqa hmyJIQ">
                        <div class="sc-bkzYnD kLxSip">Categoria</div>
                        <select class="sc-dIUeWJ gesRgG" id="categoria">
                            <option>

                            </option>
                            <option value="Alimentação">Alimentação</option>
                            <option value="Aluguel">Aluguel</option>
                            <option value="Salário">Salário</option>
                        </select>
                    </label>
                    <label class="sc-fFucqa hmyJIQ">
                      <div class="sc-bkzYnD kLxSip">Periodo</div>
                      <select class="sc-dIUeWJ gesRgG" id="periodo">

                          <option>
                            
                          </option>
                          <option value="Fixo">Fixo</option>
                          <option value="Esporádico">Esporádico</option>
                      </select>
                  </label>
                        <label class="sc-fFucqa hmyJIQ">
                            <div class="sc-bkzYnD kLxSip">Valor</div>
                            <input type="number" class="sc-idOiZg rwnMw" value="0" id="valor"></label>
                            <label class="sc-fFucqa hmyJIQ">
                                <div class="sc-bkzYnD kLxSip">&nbsp;</div>
                                <button class="sc-hHfuMS dcAQVR" id="adicionar">Adicionar</button>
                            </label>
                        </div>
                        <table class="sc-eCstlR bkasyz">
                                <thead>
                                    <tr><th width="100" class="sc-jSgvzq gyieuF alignData">Data</th>
                                        <th width="130" class="sc-jSgvzq fcmwIe alignCategoria">Categoria</th>
                                        <th class="sc-jSgvzq fouaSj alignTitulo">Título</th>
                                        <th width="150" class="sc-jSgvzq jaAmsI alignValor">Valor</th>
                                        <th width="130" style="color: white; text-align: start; position: relative; left: 16px;">Ações</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="sc-gKseQn">
                                        <td class="sc-iBPTik gZUaaB alignData">20/04/2022</td>
                                        <td class="sc-iBPTik gZUaaB">
                                            <div color="blue" class="sc-fubCzh kuaJPV alignCategoria">Alimentação</div></td>
                                        <td class="sc-iBPTik gZUaaB alignTitulo">Testando o teste para ver sua responsividade</td>
                                        <td class="sc-iBPTik gZUaaB">
                                            <div color="red" class="sc-pGacB fZFMZi alignValor">R$ 23</div></td>
                                          <td>
                                            <div class="butao_teste alignAcoes">
                                            <button class="butao"><img src="outline_delete_white_24dp.png"></button><br>
                                            <button class="butao"><img src="outline_edit_white_24dp.png"></button>
                                            </div>
                                          </td>
                                        </tr>
                                            <tr class="sc-gKseQn">
                                                <td class="sc-iBPTik gZUaaB alignData">15/04/2022</td>
                                                <td class="sc-iBPTik gZUaaB">
                                                    <div color="green" class="sc-fubCzh hiVCco alignCategoria">Salário</div>
                                                </td>
                                                <td class="sc-iBPTik gZUaaB alignTitulo">45</td>
                                                <td class="sc-iBPTik gZUaaB">
                                                    <div color="green" class="sc-pGacB fbeSIK alignValor">R$ 65</div>
                                                </td>
                                                <td>
                                                  <div class="butao_teste alignAcoes">
                                                  <button class="butao"><img src="outline_delete_white_24dp.png"></button><br>
                                                  <button class="butao"><img src="outline_edit_white_24dp.png"></button>
                                                  </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <script type="module">
                            var user_final = localStorage.getItem('valueText');
        
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-analytics.js";

        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
    
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
        apiKey: "AIzaSyCd8BHepAbgzsZF0Ig8NRgsnTPRKvYkO4g",
        authDomain: "vexv1-adc55.firebaseapp.com",
        databaseURL: "https://vexv1-adc55-default-rtdb.firebaseio.com",
        projectId: "vexv1-adc55",
        storageBucket: "vexv1-adc55.appspot.com",
        messagingSenderId: "827882444760",
        appId: "1:827882444760:web:3b65498f6fe2161d1244ad",
        measurementId: "G-FBJX3WSQDX"
        };

        const firebaseApp = initializeApp(firebaseConfig);
    
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        import{getDatabase, ref, get, set, child, update, remove, onValue}
        from "https://www.gstatic.com/firebasejs/9.6.8/firebase-database.js";

        const db = getDatabase();

//------------------------------DECLARANDO VÁRIAVEIS GLOBAIS------------------------------//
var btn_adicionar = document.getElementById("adicionar");

function datas(){

var data = new Date()

var mes = String(data.getMonth() + 1);


switch(mes){
    case '1':
        nomeMes = "jan"; 

    return nomeMes;

    break;
    case '2':
    nomeMes = "fev"; 

    break;
    case '3':
    nomeMes = "mar"; 

        return nomeMes;
    break;
    case '4':
    nomeMes = "abril"; 

        return nomeMes;
    break;
    case '5':
    nomeMes = "maio"; 

        return nomeMes;
    break;
    case '6':
    nomeMes = "jun"; 

        return nomeMes;
    break;
    
}
}

function calculos()
{
  alert('Calculado!');
};

var nomeMes = datas();

//---------------------------CRIAR DADOS---------------------------\\
const createClient = (client) => {
    
    var nome = document.getElementById('titulo').value;
    var tipo = document.getElementById('categoria').value;
    var valor = document.getElementById('valor').value;
    var periodo =document.getElementById('periodo').value;

    var nomeMes = datas();
    var data = new Date();
    var segundos = data.getSeconds();
    var minutos = data.getMinutes();
    var horas = data.getHours();
    var dias =  data.getDate();
    var meses = data.getMonth()+1;
    var anos = String(data.getFullYear());
    var id = anos+meses+dias+'_'+horas+minutos+segundos;

   if((nome=="") || (tipo=="") || (valor=="") ||(periodo=="")){
     alert('preencha todos os campos');
   }else{
    
    localStorage.setItem('db_client', client);
        set(ref(db, "users/"+user_final+"/"+nomeMes+"/gastos/"+id),
            {
                id: id,
                titulo: nome,
                tipo: tipo,
                valor: valor,
                periodo: periodo
            }
            )
            .then(()=>{

              document.getElementById('titulo').value = "";
              document.getElementById('categoria').value = "";
              document.getElementById('valor').value = "";
              document.getElementById('periodo').value = "";

              calculos();
            
            })
            .catch((error)=>{

            })}}


//------------------------------DECLARANDO AÇÕES DOS BOTÕES------------------------------//
  
     btn_adicionar.addEventListener('click', createClient);
    
    
    
    
    
</script>
</body></html>